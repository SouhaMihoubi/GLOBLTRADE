<div class="container">
    <mat-toolbar>
        <span class="spacer"></span>
        <span>Portfolio</span>
        <span class="speacer"></span>
    </mat-toolbar>
</div>

<div fxLayout="row top">
    <mat-card fxFlex="15" fxFlexOffset="25">

        <mat-card-title>Acquisition Cost </mat-card-title>
        <mat-card-content type="number">{{totalCost}}</mat-card-content>
    </mat-card>
    <mat-card fxFlex="15">
        <mat-card-title>Realized P/L </mat-card-title>
        <mat-card-content type="number"></mat-card-content>
    </mat-card>
    <mat-card fxFlex="15">
        <mat-card-title>Profit / Loss </mat-card-title>
        <mat-card-content>{{prof_loss.toFixed(2)}}</mat-card-content>
    </mat-card>
    <mat-card fxFlex="15">
        <mat-card-title>Holdings </mat-card-title>
        <mat-card-content>
            <div *ngFor="let item of items | async;let i=index ">

                <div *ngFor=" let coin of result">

                    <div *ngIf="coin.CoinInfo.Name == item.coin">
                        <!--     <div> {{((item.amount*coin.RAW.USD.PRICE)-(item.amount*item.Buy_Price)).toFixed(2)}}</div> -->
                    </div>
                </div>
            </div>

        </mat-card-content>
    </mat-card>

</div>
<div class="table">
    <div fxLayout="row ">
        <mat-card fxFlex="20" fxFlexOffset="5">

            <mat-card-title>Coin</mat-card-title>

        </mat-card>
        <mat-card fxFlex="10">
            <mat-card-title>Price</mat-card-title>

        </mat-card>
        <mat-card fxFlex="10">
            <mat-card-title>Amount</mat-card-title>

        </mat-card>
        <mat-card fxFlex="10">
            <mat-card-title>Buy price</mat-card-title>

        </mat-card>
        <mat-card fxFlex="10">
            <mat-card-title>Total Value</mat-card-title>

        </mat-card>
        <mat-card fxFlex="10">
            <mat-card-title>Profit/Loss</mat-card-title>

        </mat-card>
        <mat-card fxFlex="10">
            <mat-card-title>Change</mat-card-title>

        </mat-card>
        <mat-card fxFlex="15">
            <mat-card-title>Buy/Sell</mat-card-title>

        </mat-card>

    </div>




    <div *ngFor="let item of items | async">

        <div *ngFor=" let coin of result">

            <div fxLayout="row" *ngIf="coin.CoinInfo.Name == item.coin">

                <mat-card fxFlex="20" fxFlexOffset="5">

                    <mat-card-content><img class="image" src="https://www.cryptocompare.com{{coin.CoinInfo.ImageUrl}}">{{coin.CoinInfo.Name}} </mat-card-content>
                    <mat-card-footer></mat-card-footer>

                </mat-card>
                <mat-card fxFlex="10">
                    <mat-card-content>{{coin.DISPLAY.USD.PRICE}}</mat-card-content>

                </mat-card>
                <mat-card fxFlex="10">
                    <mat-card-content>{{item.amount}}</mat-card-content>

                </mat-card>
                <mat-card fxFlex="10">
                    <mat-card-content>{{item.Buy_Price}}</mat-card-content>

                </mat-card>
                <mat-card fxFlex="10">
                    <mat-card-content>{{(item.amount*coin.RAW.USD.PRICE).toFixed(2)}} </mat-card-content>
                    <!--  
                    <input type="hidden" [(ngmodel)]="cost" value={{item.amount*coin.RAW.USD.PRICE}}> -->
                </mat-card>

                <mat-card fxFlex="10">
                    <mat-card-content>{{((item.amount*coin.RAW.USD.PRICE)-(item.amount*item.Buy_Price)).toFixed(2)}}</mat-card-content>

                </mat-card>
                <mat-card fxFlex="10">
                    <mat-card-content>
                        {{((((item.amount*coin.RAW.USD.PRICE.toFixed(2))-(item.amount*item.Buy_Price))/((item.amount*item.Buy_Price)))*100).toFixed(2)}}%
                    </mat-card-content>

                </mat-card>
                <mat-card fxFlex="15">
                    <mat-card-content>
                        <span>
                         <button mat-raised-button (click)="openDialog()">
                                <mat-icon>add_box</mat-icon>
                          </button></span>
                        <span><button mat-raised-button (click)="sellcoin()">
                                <mat-icon>indeterminate_check_box</mat-icon>
                          </button></span>
                    </mat-card-content>

                </mat-card>



            </div>

        </div>

    </div>
</div>